@import 'design_system';

// Typography Scale (Perfect Fourth - 1.333)
$type-scale: (
  'micro': 0.75rem,    // 12px
  'tiny': 0.875rem,    // 14px
  'base': 1rem,        // 16px
  'small': 1.125rem,   // 18px
  'medium': 1.333rem,  // 21.328px
  'large': 1.777rem,   // 28.432px
  'xlarge': 2.369rem,  // 37.904px
  'huge': 3.157rem     // 50.512px
);

// Font Features
$features: (
  'security': 'ss01',  // Security-focused alternates
  'mono': 'zero',      // Slashed zero
  'tabular': 'tnum',   // Tabular numbers
  'fractions': 'frac'  // Diagonal fractions
);

// Text Styles
.text {
  // Headings
  &-h1 {
    font-family: $font-primary;
    font-size: map-get($type-scale, 'huge');
    font-weight: $font-weight-bold;
    line-height: $line-height-tight;
    letter-spacing: -0.02em;
    margin-bottom: $spacing-lg;

    @include media-sm {
      font-size: map-get($type-scale, 'xlarge');
    }
  }

  &-h2 {
    font-family: $font-primary;
    font-size: map-get($type-scale, 'xlarge');
    font-weight: $font-weight-bold;
    line-height: $line-height-tight;
    letter-spacing: -0.01em;
    margin-bottom: $spacing-md;

    @include media-sm {
      font-size: map-get($type-scale, 'large');
    }
  }

  &-h3 {
    font-family: $font-primary;
    font-size: map-get($type-scale, 'large');
    font-weight: $font-weight-semibold;
    line-height: $line-height-tight;
    margin-bottom: $spacing-md;

    @include media-sm {
      font-size: map-get($type-scale, 'medium');
    }
  }

  &-h4 {
    font-family: $font-primary;
    font-size: map-get($type-scale, 'medium');
    font-weight: $font-weight-semibold;
    line-height: $line-height-normal;
    margin-bottom: $spacing-sm;

    @include media-sm {
      font-size: map-get($type-scale, 'small');
    }
  }

  // Body Text
  &-body {
    font-family: $font-primary;
    font-size: map-get($type-scale, 'base');
    font-weight: $font-weight-normal;
    line-height: $line-height-normal;
    margin-bottom: $spacing-md;

    &--large {
      font-size: map-get($type-scale, 'small');
      line-height: $line-height-relaxed;
    }

    &--small {
      font-size: map-get($type-scale, 'tiny');
      line-height: $line-height-normal;
    }
  }

  // Security-Focused Text
  &-secure {
    font-family: $font-monospace;
    font-feature-settings: 'ss01', 'zero';
    letter-spacing: 0.05em;
    
    &--key {
      font-size: map-get($type-scale, 'tiny');
      background-color: rgba($color-surface, 0.5);
      padding: $spacing-xs $spacing-sm;
      border-radius: $border-radius-sm;
      font-feature-settings: 'ss01', 'zero', 'tnum';
    }

    &--hash {
      font-size: map-get($type-scale, 'micro');
      letter-spacing: 0.1em;
      word-break: break-all;
      font-feature-settings: 'ss01', 'zero', 'tnum';
    }
  }

  // Interactive Text
  &-button {
    font-family: $font-primary;
    font-size: map-get($type-scale, 'tiny');
    font-weight: $font-weight-medium;
    letter-spacing: 0.02em;
    text-transform: uppercase;
  }

  &-link {
    color: $color-accent;
    text-decoration: none;
    transition: color $transition-fast;

    &:hover {
      color: lighten($color-accent, 10%);
      text-decoration: underline;
    }

    &--subtle {
      color: $color-text-secondary;
      
      &:hover {
        color: $color-text-primary;
      }
    }
  }

  // Status Text
  &-status {
    font-family: $font-primary;
    font-size: map-get($type-scale, 'tiny');
    font-weight: $font-weight-medium;

    &--success {
      color: $color-success;
    }

    &--warning {
      color: $color-warning;
    }

    &--error {
      color: $color-error;
    }

    &--info {
      color: $color-info;
    }
  }

  // Metadata Text
  &-meta {
    font-family: $font-primary;
    font-size: map-get($type-scale, 'micro');
    color: $color-text-secondary;
    line-height: $line-height-normal;
  }

  // Code and Technical Text
  &-code {
    font-family: $font-monospace;
    font-size: map-get($type-scale, 'tiny');
    background-color: rgba($color-surface, 0.5);
    padding: $spacing-xs $spacing-sm;
    border-radius: $border-radius-sm;
    
    &--block {
      display: block;
      padding: $spacing-md;
      margin: $spacing-md 0;
      overflow-x: auto;
      font-size: map-get($type-scale, 'micro');
      line-height: $line-height-relaxed;
    }
  }
}

// Typography Utilities
.font {
  &-primary {
    font-family: $font-primary;
  }

  &-mono {
    font-family: $font-monospace;
  }

  &-tabular {
    font-feature-settings: 'tnum';
  }

  &-secure {
    font-feature-settings: 'ss01', 'zero';
  }
}

.text-align {
  &-left {
    text-align: left;
  }

  &-center {
    text-align: center;
  }

  &-right {
    text-align: right;
  }
}

.text-transform {
  &-uppercase {
    text-transform: uppercase;
  }

  &-lowercase {
    text-transform: lowercase;
  }

  &-capitalize {
    text-transform: capitalize;
  }
}

.text-wrap {
  &-normal {
    white-space: normal;
  }

  &-nowrap {
    white-space: nowrap;
  }

  &-pre {
    white-space: pre;
  }

  &-pre-line {
    white-space: pre-line;
  }

  &-pre-wrap {
    white-space: pre-wrap;
  }

  &-break-all {
    word-break: break-all;
  }
}

// Line Height Utilities
.leading {
  &-none {
    line-height: 1;
  }

  &-tight {
    line-height: $line-height-tight;
  }

  &-normal {
    line-height: $line-height-normal;
  }

  &-relaxed {
    line-height: $line-height-relaxed;
  }
}

// Font Weight Utilities
.font-weight {
  &-normal {
    font-weight: $font-weight-normal;
  }

  &-medium {
    font-weight: $font-weight-medium;
  }

  &-semibold {
    font-weight: $font-weight-semibold;
  }

  &-bold {
    font-weight: $font-weight-bold;
  }
} 